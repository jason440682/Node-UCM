extends ../layout

block ownStyles
    link(type="text/css", rel="stylesheet", href="/scripts/lib/bootstrap-fileinput/css/fileinput.min.css")

block ownScripts
    script(src="/scripts/lib/bootstrap-fileinput/js/fileinput.js")

block navbar
    include ../public/navbar

block content
    form.form-horizontal#form(method="post", role="form")
        h1.title= lang.title
        div.section
            div.form-group
                div.col-sm-4
                    span.label-text= lang.user_id
                    span#staff-id= userInfo.staffUserId

                div.col-sm-4
                    span.label-text= lang.business_id
                    span#business-id= userInfo.masterUserBusinessId

                div.col-sm-4
                    span.label-text= lang.username.text
                    span#user-name= userInfo.userName

        div.section
            div.form-group
                div.radio.col-sm-6
                    span.col-sm-7.label-text
                        span.highlight *
                        = lang.auto_login.text
                    div.col-sm-5.label-radio
                        if userInfo.enable2FactorAuthenticationLogin === 1
                            label.col-sm-6
                                input(type="radio", name="enable2FactorAuthenticationLogin", value="1", checked)
                                = lang.auto_login.yes
                            label.col-sm-6
                                input(type="radio", name="enable2FactorAuthenticationLogin", value="0")
                                = lang.auto_login.no
                        else
                            label.col-sm-6
                                input(type="radio", name="enable2FactorAuthenticationLogin", value="1")
                                = lang.auto_login.yes
                            label.col-sm-6
                                input(type="radio", name="enable2FactorAuthenticationLogin", value="0", checked)
                                = lang.auto_login.no

                div.radio.col-sm-5
                    span.col-sm-6.label-text= lang.send_code.text
                    div.col-sm-6.label-radio
                        if userInfo.sendPasscodeToDeviceId === 1
                            label.col-sm-6
                                input(type="radio", name="sendPasscodeToDeviceId", value="1" checked)
                                = lang.send_code.mobile
                            label.col-sm-6
                                input(type="radio", name="sendPasscodeToDeviceId", value="2")
                                = lang.send_code.email
                        else
                            label.col-sm-6
                                input(type="radio", name="sendPasscodeToDeviceId", value="1")
                                = lang.send_code.mobile
                            label.col-sm-6
                                input(type="radio", name="sendPasscodeToDeviceId", value="2" checked)
                                = lang.send_code.email

        div.section
            div.form-group
                label.col-sm-4(for="first-name")
                    span.highlight *
                    = lang.first_name.text
                div.col-sm-5
                    input.form-control.required#first-name(type="text", name="firstName", value=userInfo.firstName placeholder= lang.first_name.placeholder)

            div.form-group
                label.col-sm-4(for="last-name")
                    span.highlight *
                    = lang.last_name.text
                div.col-sm-5
                    input.form-control.required#last-name(type="text", name="lastName", value=userInfo.lastName placeholder= lang.last_name.placeholder)

            div.form-group
                label.col-sm-4(for="email")
                    span.highlight *
                    = lang.email_address.text
                div.col-sm-5
                    input.form-control.required#email(type="email", name="eMailAddress", value=userInfo.eMailAddress placeholder= lang.email_address.placeholder)

            div.form-group
                label.col-sm-4(for="mobile-number")
                    span.highlight *
                    = lang.mobile_num.text
                div.col-sm-5
                    input.form-control.required#mobile-number(type="tel", name="phoneNumber", value=userInfo.mobilePhone placeholder= lang.mobile_num.placeholder)

            div.form-group
                label.col-sm-4(for="other-mobile-phone")= lang.other_num.text
                div.col-sm-5
                    input.form-control#other-mobile-phone(type="tel", name="otherPhone", value=userInfo.otherPhone placeholder= lang.other_num.placeholder)

        div.section
            div.form-group
                label.col-sm-4(for="jobTitle")
                    span.highlight *
                    = lang.job_title.text
                div.col-sm-5
                    input.form-control.required#jobTitle(type="text", name="jobTitle", value=userInfo.jobTitle placeholder= lang.job_title.placeholder)

            div.form-group
                label.col-sm-4(for="department")= lang.department.text
                div.col-sm-5
                    select.form-control#department(name="businessDepartmentId")
                        for dep in lang.department.departments
                            if dep.key === userInfo.businessDepartmentId
                                option(value=dep.key, selected)= dep.value
                            else
                                option(value=dep.key)= dep.value
            div.form-group
                label.col-sm-4(for="timeZone")= lang.time_zone.text
                div.col-sm-5
                    select.form-control#timeZone(name="workTimeZone")
                        for zone in timezones
                            if zone.timeZoneId === userInfo.workTimeZone
                                option(value=zone.timeZoneId, selected)= zone.timeZoneLocation + '\t' + zone.gmt
                            else
                                option(value=zone.timeZoneId)= zone.timeZoneLocation + '\t' + zone.gmt

            div.form-group
                label.col-sm-4(for="work-email")= lang.work_email.text
                div.col-sm-5
                    input.form-control#work-email(name="workEmail", type="email", value=userInfo.workEmail placeholder= lang.work_email.placeholder)

            div.form-group
                label.col-sm-4(for="office-phone")= lang.office_phone.text
                div.col-sm-5
                    input.form-control#office-phone(name="officePhone", type="tel", value=userInfo.officePhone placeholder= lang.office_phone.placeholder)

            div.form-group
                label.col-sm-4(for="addStreet")= lang.office_address.text
                div.col-sm-5.country
                    input.form-control#addStreet(type="text", name="officeAddressStreet", value=userInfo.officeAddressStreet placeholder= lang.office_address.placeholder.street)
                    input.form-control(type="text", name="officeAddressCity", value=userInfo.officeAddressCity placeholder= lang.office_address.placeholder.city)
                    input.form-control(type="text", name="officeAddressStateProvince", value=userInfo.officeAddressStateProvince placeholder= lang.office_address.placeholder.state)
                    input.form-control(type="text", name="officeAddressZipCode", value=userInfo.officeAddressZipCode placeholder= lang.office_address.placeholder.zip_code)
                    select.form-control(name="officeAddressCountry")
                        for country in countries
                            if country.countryId === userInfo.officeAddressCountry
                                option(value=country.countryId, selected)= country.countryCode + "\t(" + country.countryName + ")"
                            else
                                option(value=country.countryId)= country.countryCode + "\t(" + country.countryName + ")"

            div.form-group
                label.col-sm-4(for="userNote")= lang.user_note.text
                div.col-sm-5
                    textarea.form-control#userNote(name="userNote", placeholder= lang.user_note.placeholder)
                        = userInfo.userNote

            div.form-group
                label.col-sm-4= lang.uploaded_logo.text
                div.col-sm-5
                    img#uploaded-logo(src='/api/Logo/' + userInfo.userName, alt=userInfo.userName + "'s logo'")

            div.form-group
                label.col-sm-4(for="logo")= lang.photo.text
                div.col-sm-5
                    input#upload-logo(placeholder= lang.photo.placeholder, type="file", class="file", data-preview-file-type="text")

        div.section
            div.form-group
                div.buttons.col-sm-8.col-sm-offset-4.col-xs-12
                    button#save.btn.btn-default.btn-info=lang.buttons.save
                    button#archive.btn.btn-default.btn-info=lang.buttons.archive

        div.list-fixed.hidden-xs
            ul.list-group
                for item in lang.list_group
                    li.list-group-item
                        a(href= item.link)= item.text

    include ../public/footnavbar

block footer
    include ../public/footer